<%- include('../layouts/header.ejs') %>




<main class="main" style="margin-top: -70px;">
   
    <div class="login-page bg-image pt-8 pb-8 pt-md-12 pb-md-12 pt-lg-17 pb-lg-17" style="background-color: rgb(255, 255, 255); border-radius: 15px;">
        <div class="container">
            <div class="form-box">
                <div class="form-tab">
                    <ul class="nav nav-pills nav-fill" role="tablist">
                       
                           <h2 class="nav-link">Admin-Login</h2>
                      
                    </ul>
                    <div class="tab-content">
                        <div  id="signin-2"  aria-labelledby="signin-tab-2">
                            <form action="" method="post" id="login-form" >
                                <div class="form-group">
                                    <label for="singin-email-2">Email address </label>
                                    <input type="email" class="form-control" id="singin-email-2" name="email">
                                    <div class="error-message" style="color: red;" id="email-error"></div> 
                                </div>
                            
                                <div class="form-group">
                                    <label for="singin-password-2">Password </label>
                                    <input type="password" class="form-control" id="singin-password-2" name="password">
                                    <div class="error-message" style="color: red;" id="password-error"></div> 
                                </div>
                            
                               <div style="display: flex; justify-content: center;">
                                    <button type="submit" class="btn btn-primary" style="padding: 10px;">
                                        <span >LOG IN</span>
                                        <i class="icon-long-arrow-right"></i>
                                    </button>
                                </div>
                                
                            </form>
                            <div id="text-center">
                                <% if (typeof message !== 'undefined' && message) { %>
                                    <p style="color: green;" id="message text-center"><%= message %></p>
                                <% } %>
                            </div>  
                            <div id="invalid text-center">
                                <% if (typeof error !== 'undefined' && error) { %>
                                    <p style="color: red;" id="message text-center"><%= error %></p>
                                <% } %>
                            </div>  
                            </div>                  
                    
                        </div><!-- .End .tab-pane -->
                      <!-- .End .tab-pane -->
                    </div><!-- End .tab-content -->
                </div><!-- End .form-tab -->
            </div><!-- End .form-box -->
        </div><!-- End .container -->
    </div><!-- End .login-page section-bg -->
</main><!-- End .main -->



<script>
   const crediential={
    email:"admin@gmail.com",
    password:"123456"
}

//login user
router.post('/login',(req, res) => {
    if (req.body.email == crediential.email && req.body.password == crediential.password) {
        req.session.user = req.body.email; // to check if the session is correct to the value
        res.redirect('/route/dashboard');
    } else if(req.body.email != crediential.email) {
       
        emailError.textContent = "Invalid username";
        
    }else if(req.body.password != crediential.password){
       
        emailError.textContent = "Invalid Password";
       
  
  }
  })
    // Check if email or password is empty
        if (emailInput.value.trim() === '' || passwordInput.value.trim() === '') {
            e.preventDefault(); // Prevent form submission
            if (emailInput.value.trim() === '') {
                emailError.textContent = 'Email is required';
            }
            if (passwordInput.value.trim() === '') {
                passwordError.textContent = 'Password is required';
            }
        }
    ;


</script>

<%- include('../Layouts/footer.ejs') %>