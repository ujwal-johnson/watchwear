<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="public/style.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    .error-message {
        color: red;
        margin-top: 5px;
    }
</style>

</head>
<body>
    <div class="container light-style flex-grow-1 container-p-y">
        <h4 class="font-weight-bold py-3 mb-4">
            Edit Address
        </h4>
        <div class="card overflow-hidden">
            <div class="row no-gutters row-bordered row-border-light">
                <div class="col-md-3 pt-0">
                    <div class="list-group list-group-flush account-settings-links">
                        <a class="list-group-item list-group-item-action " 
                            href="/userprofile">Profile</a>
                        <a class="list-group-item list-group-item-action" 
                            href="/addressadd">CreateAddress</a>
                        <a class="list-group-item list-group-item-action active"
                            href="/addresslist">List of Address</a>
                         <a class="list-group-item list-group-item-action"
                            href="/home">Home</a>
                            <a class="list-group-item list-group-item-action" 
                            href="/orderlist">orderlist</a>
                         <a class="list-group-item list-group-item-action" 
                            href="/changepassword">Change Password</a>
                        <a class="list-group-item list-group-item-action" 
                            href="/getcoupon">Coupon</a> 
                            <a class="list-group-item list-group-item-action" 
                            href="/getwallet">wallet</a>  
                    </div>
                </div>
                <div id="account-change-password" class="col-md-9">
                    <form action="/editaddress" method="post" onsubmit="return validateForm()">
                        <div class="card-body pb-2">
                            <div class="form-group">
                                <input type="hidden" name="addressesId" value="<%= addresses._id %>" id="" />
                            </div>
                    
                            <div class="form-group">
                                <label class="form-label">Street</label>
                                <input type="text" class="form-control" name="street" value="<%= addresses.street %>" id="street">
                                <div id="street-error" class="error-message"></div>
                            </div>
                    
                            <div class="form-group">
                                <label class="form-label">PIN-CODE</label>
                                <input type="text" class="form-control" name="PINCODE" value="<%= addresses.pinCode %>" id="pincode">
                                <div id="pincode-error" class="error-message"></div>
                            </div>
                    
                            <div class="form-group">
                                <label class="form-label">City</label>
                                <input type="text" class="form-control" name="city" value="<%= addresses.city %>" id="city">
                                <div id="city-error" class="error-message"></div>
                            </div>
                    
                            <div class="form-group">
                                <label class="form-label">State</label>
                                <input type="text" class="form-control" name="state" value="<%= addresses.state %>" id="state">
                                <div id="state-error" class="error-message"></div>
                            </div>
                    
                            <div class="form-group">
                                <label class="form-label">Country</label>
                                <input type="text" class="form-control" name="country" value="<%= addresses.country %>" id="country">
                                <div id="country-error" class="error-message"></div>
                            </div>
                    
                            <button type="submit" class="btn btn-primary">Save Changes</button>&nbsp;
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">

    </script>
    <script>
        function validateForm() {
            // Reset previous error messages
            document.querySelectorAll('.error-message').forEach(element => {
                element.textContent = '';
            });
    
            // Validate each field
            const street = document.getElementById('street').value.trim();
            const pincode = document.getElementById('pincode').value.trim();
            const city = document.getElementById('city').value.trim();
            const state = document.getElementById('state').value.trim();
            const country = document.getElementById('country').value.trim();
    
            if (street === '') {
                document.getElementById('street-error').textContent = 'Street is required.';
                return false;
            }
    
            if (pincode === '') {
                document.getElementById('pincode-error').textContent = 'PIN-CODE is required.';
                return false;
            }
    
            if (city === '') {
                document.getElementById('city-error').textContent = 'City is required.';
                return false;
            }
    
            if (state === '') {
                document.getElementById('state-error').textContent = 'State is required.';
                return false;
            }
    
            if (country === '') {
                document.getElementById('country-error').textContent = 'Country is required.';
                return false;
            }
    
            // If all fields are filled, the form is valid
            return true;
        }
    </script>
</body>

</html>    